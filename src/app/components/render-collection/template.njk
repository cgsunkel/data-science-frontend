{% from "input/macro.njk" import govukInput %}
{% from "select/macro.njk" import govukSelect %}

<article class="column-two-thirds" id="xhr-outlet">
    <article class="c-collection">
        <header>
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-one-half">
                    <p class="govuk-body-l govuk-!-margin-bottom-2 ">
                        <span class="govuk-body govuk-!-font-size-36 govuk-!-font-weight-bold govuk-!-padding-right-2">### 3,341,881</span>
                        companies
                    </p>
                </div>
                <div class="govuk-grid-column-one-half">
                    <a class="govuk-link app-pull-right govuk-!-margin-top-3 " href="#">Remove all filters</a>
                </div>

            </div>
            <hr class="govuk-section-break govuk-section-break--visible app-large-section-break">
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-one-half">
                    <span class="govuk-caption-m govuk-!-margin-top-5">Page 1 of ###</span>
                </div>
                <div class="govuk-grid-column-one-half govuk-!-margin-top-3 govuk-!-margin-bottom-3">
                    <form method="" action="">
                        <div class="app-form-group-no-margin app-pull-right">
                            {{ govukSelect({
                                id: "sort",
                                name: "sort",
                                classes: 'govuk-!-display-inline app-sort-select',
                                label: {
                                    text: "Sort by",
                                    classes: 'govuk-!-display-inline govuk-!-margin-right-2'
                                },
                                items: [
                                    {
                                        value: "published",
                                        text: "Recently published"
                                    },
                                    {
                                        value: "updated",
                                        text: "Recently updated",
                                        selected: true
                                    },
                                    {
                                        value: "views",
                                        text: "Most views"
                                    },
                                    {
                                        value: "comments",
                                        text: "Most comments"
                                    }
                                ]
                            }) }}
                        </div>
                    </form>
                </div>
            </div>
            <hr class="govuk-section-break govuk-section-break--visible">
        </header>
        <ol class="govuk-list govuk-body app-collection-list">

            {% for item in params %}
                <li class="app-collection-item">
                <div class="app-collection-heading">
                    <h3 class="govuk-heading-m govuk-!-margin-top-4">{{ item.company_name | title }}</h3>

                    {% if item.region %}
                        <span class="govuk-!-font-size-16 govuk-!-font-weight-bold app-badge">{{ item.region }}</span>
                    {% endif %}

                    {% if item.datahub_company_id %}
                        <a class="govuk-link"
                           target="_blank"
                           href="https://www.datahub.trade.gov.uk/companies/{{ item.datahub_company_id }}"
                        >View Data Hub profile</a>
                    {% endif %}

                    {% if item.export_propensity  %}
                        <span class="govuk-caption-m">Export potential:</span>
                        <span class="govuk-body govuk-!-font-size-24">{{ item.export_propensity }}</span>
                    {% endif %}
                </div>
                <div class="govuk-grid-row">
                    <ul class="govuk-grid-column-one-half govuk-list">
                        {% if item.last_export_evidence %}
                            <li>
                                <span class="govuk-caption-m govuk-!-display-inline">Last export evidence:</span>
                                {{ item.last_export_evidence }}
                            </li>
                        {% endif %}
                        {% if item.num_export_wins %}
                            <li>
                                <span class="govuk-caption-m govuk-!-display-inline">DIT export wins:</span>
                                {{ item.num_export_wins }}
                            </li>
                        {% endif %}
                        {% if item.num_export_opp_enquiries %}
                            <li>
                                <span class="govuk-caption-m govuk-!-display-inline">DIT export opportunities:</span>
                                {{ item.num_export_opp_enquiries }}
                            </li>
                        {% endif %}
                        {% if item.cash_bank_in_hand %}
                            <li>
                                <span class="govuk-caption-m govuk-!-display-inline">Cash in the bank:</span>
                                &pound;{{ item.cash_bank_in_hand }}
                            </li>
                        {% endif %}
                    </ul>
                    <ul class="govuk-grid-column-one-half govuk-list">
                        {% if item.num_hmrc_export_goods_outside_eu %}
                            <li>
                                <span class="govuk-caption-m govuk-!-display-inline">HMRC export of goods:</span>
                                {{ item.num_hmrc_export_goods_outside_eu }}
                            </li>
                        {% endif %}
                        {% if item.num_hmrc_import_goods_outside_eu %}
                            <li>
                                <span class="govuk-caption-m govuk-!-display-inline">HMRC import of goods:</span>
                                {{ item.num_hmrc_import_goods_outside_eu }}
                            </li>
                        {% endif %}
                        {% if item.employee_range %}
                            <li>
                                <span class="govuk-caption-m govuk-!-display-inline">Employee range:</span>
                                {{ item.employee_range }}
                            </li>
                        {% endif %}
                        {% if item.turnover %}
                            <li>
                                <span class="govuk-caption-m govuk-!-display-inline">Turnover:</span>
                                &pound;{{ item.turnover }}
                            </li>
                        {% endif %}
                    </ul>
                </div>
                <hr class="govuk-section-break govuk-section-break--visible">
            </li>
            {% endfor %}
        </ol>


        <nav class="c-pagination" aria-label="pagination: total 1000 pages">
            <ul class="c-pagination__list">
                <li class="c-pagination__list-item"><a href="?sortby=date%3Adesc&amp;page=1"
                                                       class="c-pagination__label is-current">1</a></li>
                <li class="c-pagination__list-item"><a href="?sortby=date%3Adesc&amp;page=2"
                                                       class="c-pagination__label">2</a></li>
                <li class="c-pagination__list-item"><a href="?sortby=date%3Adesc&amp;page=3"
                                                       class="c-pagination__label">3</a></li>
                <li class="c-pagination__list-item"><a href="?sortby=date%3Adesc&amp;page=4"
                                                       class="c-pagination__label">4</a></li>
                <li class="c-pagination__list-item"><span
                            class="c-pagination__label c-pagination__label--truncation">?</span></li>
                <li class="c-pagination__list-item"><a href="?sortby=date%3Adesc&amp;page=1000"
                                                       class="c-pagination__label">1000</a></li>
            </ul>
            <a href="?sortby=date%3Adesc&amp;page=2" class="c-pagination__label c-pagination__label--next">Next</a>
        </nav>
    </article>
</article>
